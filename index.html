<!DOCTYPE html>
<html>
<head>
  <title>Motor Control</title>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
</head>
<body>
  <h2>Motor Control</h2>
  <input type="range" id="slider" min="0" max="100" value="0">
  <span id="val">0%</span>

  <script>
    const client = mqtt.connect("wss://93bad3def29641e399de9a7b9c676613.s1.eu.hivemq.cloud:8884/mqtt", {
      username: "tohits",
      password: "toh123@TOH"
    });

    client.on("connect", () => console.log("Connected to MQTT broker"));

    const slider = document.getElementById("slider");
    const val = document.getElementById("val");

    slider.addEventListener("input", () => {
      val.textContent = slider.value + "%";
      client.publish("esp/motor", slider.value);
    });
  </script>
</body>
</html>
