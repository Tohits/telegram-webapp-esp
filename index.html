<!DOCTYPE html>
<html>
<head>
<title>Smart Controller</title>
<style>
button { padding:10px; margin:5px; font-size:16px; }
</style>
</head>
<body>
<h1>Motor Control</h1>
<input type="range" min="0" max="100" id="motorSlider" oninput="setMotor(this.value)">
<p id="motorValue">0%</p>

<h2>Relay Control</h2>
<button onclick="toggleRelay(1,1)">Relay 1 ON</button>
<button onclick="toggleRelay(1,0)">Relay 1 OFF</button><br>
<button onclick="toggleRelay(2,1)">Relay 2 ON</button>
<button onclick="toggleRelay(2,0)">Relay 2 OFF</button><br>
<button onclick="toggleRelay(3,1)">Relay 3 ON</button>
<button onclick="toggleRelay(3,0)">Relay 3 OFF</button><br>
<button onclick="toggleRelay(4,1)">Relay 4 ON</button>
<button onclick="toggleRelay(4,0)">Relay 4 OFF</button>

<script>
const masterIP = "192.168.1.40"; // Change to Master IP

function setMotor(val) {
  document.getElementById("motorValue").innerText = val + "%";
  fetch(`http://${masterIP}/motor?pos=${val}`);
}

function toggleRelay(ch, state) {
  fetch(`http://${masterIP}/relay?ch=${ch}&state=${state}`);
}
</script>
</body>
</html>
